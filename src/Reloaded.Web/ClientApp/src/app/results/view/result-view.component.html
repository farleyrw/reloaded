
<div *ngIf="result$ | async as result" class="container">
  <div class="row align-items-center">
    <h1 class="col my-4 text-truncate">
      Result: {{ result.date | date: 'longDate' }}
    </h1>

    <ul class="list-group list-group-flush">
      <li class="list-group-item">
        <div class="row">
          <div class="col fw-bold">Date</div>
          <div class="col-8">{{ result.date | date: 'MMMM d, y h:mm a' }}</div>
        </div>
      </li>
      <li class="list-group-item">
        <div class="row">
          <div class="col fw-bold">Reload</div>
          <div class="col-8">
            <a routerLink="/reloads/view/{{ result.reloadId }}">
              {{ result.reloadId }}
            </a>
          </div>
        </div>
      </li>
      <li class="list-group-item">
        <div class="row">
          <div class="col fw-bold">Firearm</div>
          <div class="col-8">
            <a routerLink="/firearms/{{ result.firearmId }}">
              {{ result.firearmId }}
            </a>
          </div>
        </div>
      </li>
      <li class="list-group-item">
        <div class="row">
          <div class="col fw-bold">Distance</div>
          <div class="col-8">
            {{ result.distance }} yds.
          </div>
        </div>
      </li>
      <li class="list-group-item">
        <div class="row">
          <div class="col fw-bold">Group Size</div>
          <div class="col-8">
            {{ result.groupSize | number: '1.2-2' }} in.
          </div>
        </div>
      </li>
      <li class="list-group-item">
        <div class="row">
          <div class="col fw-bold">Velocity</div>
          <div class="col-8">
            {{ result.velocity }} fps
          </div>
        </div>
      </li>
      <li class="list-group-item">
        <div class="row">
          <div class="col fw-bold">Notes</div>
          <div class="col-8">
            {{ result.notes }}
          </div>
        </div>
      </li>
      <li class="list-group-item">
        <div class="row">
          <div class="col fw-bold">Weather</div>
          <div class="col-8" >
            <div *ngIf="result.weather.hasData(); else noData">
              <div>{{ result.weather.temperature }} Â°F</div>
              <div>{{ result.weather.elevation }} ft</div>
              <div>{{ result.weather.windSpeed }} mph</div>
            </div>
            <ng-template #noData>N/A</ng-template>
          </div>
        </div>
      </li>
    </ul>
    
    <ng-container *ngIf="{ reload: reload$ | async, lookups: lookups$ | async } as data">
        <h2 *ngIf="data.reload && data.lookups" class="my-3">Reload: {{ getTitle(data.reload, data.lookups) }}</h2>

        <!-- TODO: create reload child component -->
    </ng-container>
  </div>
</div>
